/*! jQuery plugin for Hammer.JS - v1.1.0dev - 2014-04-11
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */

!function(e,t){function n(){i.READY||(E.determineEventTypes(),_.each(i.gestures,function(e){y.register(e)}),E.onTouch(i.DOCUMENT,g,y.detect),E.onTouch(i.DOCUMENT,f,y.detect),i.READY=!0)}function r(e,t){Date.now||(Date.now=function(){return(new Date).getTime()}),e.utils.each(["on","off"],function(n){e.utils[n]=function(e,r,i){t(e)[n](r,function(e){var n=t.extend({},e.originalEvent,e);i.call(this,n)})}}),e.Instance.prototype.trigger=function(e,n){var r=t(this.element);return r.has(n.target).length&&(r=t(n.target)),r.trigger({type:e,gesture:n})},t.fn.hammer=function(n){return this.each(function(){var r=t(this),i=r.data("hammer");i?i&&n&&e.utils.extend(i.options,n):r.data("hammer",new e(this,n||{}))})}}var i=function x(e,t){return new x.Instance(e,t||{})};i.VERSION="1.1.0dev",i.defaults={behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},i.DOCUMENT=e.document,i.HAS_POINTEREVENTS=e.navigator.pointerEnabled||e.navigator.msPointerEnabled,i.HAS_TOUCHEVENTS="ontouchstart"in e,i.CALCULATE_INTERVAL=50;var a={},o=i.DIRECTION_DOWN="down",s=i.DIRECTION_LEFT="left",c=i.DIRECTION_UP="up",u=i.DIRECTION_RIGHT="right",l=i.POINTER_MOUSE="mouse",h=i.POINTER_TOUCH="touch",d=i.POINTER_PEN="pen",p=i.EVENT_START="start",g=i.EVENT_MOVE="move",f=i.EVENT_END="end",v=i.EVENT_RELEASE="release",m=i.EVENT_TOUCH="touch";i.READY=!1,i.plugins=i.plugins||{},i.gestures=i.gestures||{};var _=i.utils={extend:function(e,n,r){for(var i in n)e[i]!==t&&r||(e[i]=n[i]);return e},on:function(e,t,n){e.addEventListener(t,n,!1)},off:function(e,t,n){e.removeEventListener(t,n,!1)},each:function(e,n,r){var i,a;if("forEach"in e)e.forEach(n,r);else if(e.length!==t){for(i=-1;a=e[++i];)if(n.call(r,a,i,e)===!1)return}else for(i in e)if(e.hasOwnProperty(i)&&n.call(r,e[i],i,e)===!1)return},inStr:function(e,t){return e.indexOf(t)>-1},inArray:function(e,t){if(e.indexOf){var n=e.indexOf(t);return-1===n?!1:n}for(var r=0,i=e.length;i>r;r++)if(e[r]===t)return r;return!1},toArray:function(e){return Array.prototype.slice.call(e,0)},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){var t=[],n=[],r=[],i=[],a=Math.min,o=Math.max;return 1===e.length?{pageX:e[0].pageX,pageY:e[0].pageY,clientX:e[0].clientX,clientY:e[0].clientY}:(_.each(e,function(e){t.push(e.pageX),n.push(e.pageY),r.push(e.clientX),i.push(e.clientY)}),{pageX:(a.apply(Math,t)+o.apply(Math,t))/2,pageY:(a.apply(Math,n)+o.apply(Math,n))/2,clientX:(a.apply(Math,r)+o.apply(Math,r))/2,clientY:(a.apply(Math,i)+o.apply(Math,i))/2})},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.clientX-e.clientX,r=t.clientY-e.clientY;return 180*Math.atan2(r,n)/Math.PI},getDirection:function(e,t){var n=Math.abs(e.clientX-t.clientX),r=Math.abs(e.clientY-t.clientY);return n>=r?e.clientX-t.clientX>0?s:u:e.clientY-t.clientY>0?c:o},getDistance:function(e,t){var n=t.clientX-e.clientX,r=t.clientY-e.clientY;return Math.sqrt(n*n+r*r)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==c||e==o},toggleBehavior:function(e,t,n){if(t&&e&&e.style){_.each(["webkit","moz","Moz","ms","o",""],function(r){_.each(t,function(t,i){r&&(i=r+i.substring(0,1).toUpperCase()+i.substring(1)),i in e.style&&(e.style[i]=!n&&t)})});var r=function(){return!1};"none"==t.userSelect&&(e.onselectstart=!n&&r),"none"==t.userDrag&&(e.ondragstart=!n&&r)}}};i.Instance=function(e,t){var r=this;n(),this.element=e,this.enabled=!0,this.options=_.extend(_.extend({},i.defaults),t||{}),this.options.behavior&&_.toggleBehavior(this.element,this.options.behavior,!1),this.eventStartHandler=E.onTouch(e,p,function(e){r.enabled&&e.eventType==p?y.startDetect(r,e):e.eventType==m&&y.detect(e)}),this.eventHandlers=[]},i.Instance.prototype={on:function(e,t){var n=this;return E.on(n.element,e,t,function(e){n.eventHandlers.push({gesture:e,handler:t})}),n},off:function(e,t){var n=this;return E.off(n.element,e,t,function(e){var r=_.inArray({gesture:e,handler:t});r!==!1&&n.eventHandlers.splice(r,1)}),n},trigger:function(e,t){t||(t={});var n=i.DOCUMENT.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t;var r=this.element;return _.hasParent(t.target,r)&&(r=t.target),r.dispatchEvent(n),this},enable:function(e){return this.enabled=e,this},dispose:function(){var e,t;for(this.options.behavior&&_.toggleBehavior(this.element,this.options.behavior,!0),e=-1;t=this.eventHandlers[++e];)_.off(this.element,t.gesture,t.handler);return this.eventHandlers=[],E.off(this.element,a[p],this.eventStartHandler),null}};var E=i.event={prevent_mouseevents:!1,started:!1,should_detect:!1,on:function(e,t,n,r){var i=t.split(" ");_.each(i,function(t){_.on(e,t,n),r&&r(t)})},off:function(e,t,n,r){var i=t.split(" ");_.each(i,function(t){_.off(e,t,n),r&&r(t)})},onTouch:function(e,t,n){var r=this,o=function(a){var o,s=a.type.toLowerCase(),c=i.HAS_POINTEREVENTS,u=_.inStr(s,"mouse");u&&r.prevent_mouseevents||(u&&1===a.which?r.should_detect=!0:t!=p||u||(r.prevent_mouseevents=!0,r.should_detect=!0),c&&t!=f&&T.updatePointer(t,a),r.should_detect&&(o=r.doDetect.call(r,a,t,e,n)),o==f?(r.prevent_mouseevents=!1,r.should_detect=!1,T.reset()):c&&t==f&&T.updatePointer(t,a))};return this.on(e,a[t],o),o},doDetect:function(e,t,n,r){var i,a=this.getTouchList(e,t),o=a.length,s=t,c=o;t==p?i=m:t==f&&(i=v,c=a.length-(e.changedTouches?e.changedTouches.length:1)),c>0&&this.started&&(s=g),this.started=!0;var u=this.collectEventData(n,s,a,e);return t!=f&&r.call(y,u),i&&(u.changedLength=c,u.eventType=i,r.call(y,u),u.eventType=s,delete u.changedLength),s==f&&(r.call(y,u),this.started=!1),s},determineEventTypes:function(){var e;return e=i.HAS_POINTEREVENTS?["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],a[p]=e[0],a[g]=e[1],a[f]=e[2],a},getTouchList:function(e,t){if(i.HAS_POINTEREVENTS)return T.getTouchList();if(e.touches){if(t==g)return e.touches;var n=[],r=[].concat(_.toArray(e.touches),_.toArray(e.changedTouches)),a=[];return _.each(r,function(e){_.inArray(n,e.identifier)===!1&&a.push(e),n.push(e.identifier)}),a}return e.identifier=1,[e]},collectEventData:function(e,t,n,r){var i=h;return(_.inStr(r.type,"mouse")||T.matchType(l,r))&&(i=l),{center:_.getCenter(n),timeStamp:Date.now(),target:r.target,touches:n,eventType:t,pointerType:i,srcEvent:r,preventDefault:function(){var e=this.srcEvent;e.preventManipulation&&e.preventManipulation(),e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return y.stopDetect()}}}},T=i.PointerEvent={pointers:{},getTouchList:function(){var e=[];return _.each(this.pointers,function(t){e.push(t)}),e},updatePointer:function(e,t){e==f?delete this.pointers[t.pointerId]:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t)},matchType:function(e,t){if(!t.pointerType)return!1;var n=t.pointerType,r={};return r[l]=n===(t.MSPOINTER_TYPE_MOUSE||l),r[h]=n===(t.MSPOINTER_TYPE_TOUCH||h),r[d]=n===(t.MSPOINTER_TYPE_PEN||d),r[e]},reset:function(){this.pointers={}}},y=i.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:_.extend({},t),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);var t=this.current.inst,n=t.options;return _.each(this.gestures,function(r){return this.stopped||n[r.name]===!1||t.enabled===!1||r.handler.call(r,e,t)!==!1?void 0:(this.stopDetect(),!1)},this),this.current&&(this.current.lastEvent=e),e.eventType==f&&this.stopDetect(),e}},stopDetect:function(){this.previous=_.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(e,t,n,r,a){var o=this.current,s=!1,c=o.lastCalcEvent,u=o.lastCalcData;c&&e.timeStamp-c.timeStamp>i.CALCULATE_INTERVAL&&(t=c.center,n=e.timeStamp-c.timeStamp,r=e.center.clientX-c.center.clientX,a=e.center.clientY-c.center.clientY,s=!0),(e.eventType==m||e.eventType==v)&&(o.futureCalcEvent=e),(!o.lastCalcEvent||s)&&(u.velocity=_.getVelocity(n,r,a),u.angle=_.getAngle(t,e.center),u.direction=_.getDirection(t,e.center),o.lastCalcEvent=o.futureCalcEvent||e,o.futureCalcEvent=e),e.velocityX=u.velocity.x,e.velocityY=u.velocity.y,e.angle=u.angle,e.direction=u.direction},extendEventData:function(e){var t=this.current,n=t.startEvent,r=t.lastEvent||n;(e.eventType==m||e.eventType==v)&&(n.touches=[],_.each(e.touches,function(e){n.touches.push(_.extend({},e))}));var i=e.timeStamp-n.timeStamp,a=e.center.clientX-n.center.clientX,o=e.center.clientY-n.center.clientY;return this.getCalculatedData(e,r.center,i,a,o),_.extend(e,{startEvent:n,deltaTime:i,deltaX:a,deltaY:o,distance:_.getDistance(n.center,e.center),scale:_.getScale(n.touches,e.touches),rotation:_.getRotation(n.touches,e.touches)}),e},register:function(e){var n=e.defaults||{};return n[e.name]===t&&(n[e.name]=!0),_.extend(i.defaults,n,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}};!function(e){function t(t,r){var i=y.current;if(!(r.options.drag_max_touches>0&&t.touches.length>r.options.drag_max_touches))switch(t.eventType){case p:n=!1;break;case g:if(t.distance<r.options.drag_min_distance&&i.name!=e)return;var a=i.startEvent.center;if(i.name!=e&&(i.name=e,r.options.correct_for_drag_min_distance&&t.distance>0)){var l=Math.abs(r.options.drag_min_distance/t.distance);a.pageX+=t.deltaX*l,a.pageY+=t.deltaY*l,a.clientX+=t.deltaX*l,a.clientY+=t.deltaY*l,t=y.extendEventData(t)}(i.lastEvent.drag_locked_to_axis||r.options.drag_lock_to_axis&&r.options.drag_lock_min_distance<=t.distance)&&(t.drag_locked_to_axis=!0);var h=i.lastEvent.direction;t.drag_locked_to_axis&&h!==t.direction&&(t.direction=_.isVertical(h)?t.deltaY<0?c:o:t.deltaX<0?s:u),n||(r.trigger(e+"start",t),n=!0),r.trigger(e,t),r.trigger(e+t.direction,t);var d=_.isVertical(t.direction);(r.options.drag_block_vertical&&d||r.options.drag_block_horizontal&&!d)&&t.preventDefault();break;case v:n&&t.changedLength<=r.options.drag_max_touches&&(r.trigger(e+"end",t),n=!1);break;case f:n=!1}}var n=!1;i.gestures.Drag={name:e,index:50,handler:t,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25}}}("drag"),i.gestures.Gesture={name:"gesture",index:1337,handler:function(e,t){t.trigger(this.name,e)}},function(e){function t(t,r){var i=r.options,a=y.current;switch(t.eventType){case p:clearTimeout(n),a.name=e,n=setTimeout(function(){a&&a.name==e&&r.trigger(e,t)},i.hold_timeout);break;case g:t.distance>i.hold_threshold&&clearTimeout(n);break;case v:clearTimeout(n)}}var n;i.gestures.Hold={name:e,index:10,defaults:{hold_timeout:500,hold_threshold:2},handler:t}}("hold"),i.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==v&&t.trigger(this.name,e)}},i.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity_x:.7,swipe_velocity_y:.6},handler:function(e,t){if(e.eventType==v){var n=e.touches.length,r=t.options;if(n<r.swipe_min_touches||n>r.swipe_max_touches)return;(e.velocityX>r.swipe_velocity_x||e.velocityY>r.swipe_velocity_y)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},function(e){function t(t,r){var i,a,o=r.options,s=y.current,c=y.previous;switch(t.eventType){case p:n=!1;break;case g:n=n||t.distance>o.tap_max_distance;break;case f:"touchcancel"!=t.srcEvent.type&&t.deltaTime<o.tap_max_touchtime&&!n&&(i=c&&c.lastEvent&&t.timeStamp-c.lastEvent.timeStamp,a=!1,c&&c.name==e&&i&&i<o.doubletap_interval&&t.distance<o.doubletap_distance&&(r.trigger("doubletap",t),a=!0),(!a||o.tap_always)&&(s.name=e,r.trigger(s.name,t)))}}var n=!1;i.gestures.Tap={name:e,index:100,handler:t,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300}}}("tap"),i.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(e,t){return t.options.prevent_mouseevents&&e.pointerType==l?void e.stopDetect():(t.options.prevent_default&&e.preventDefault(),void(e.eventType==m&&t.trigger("touch",e)))}},function(e){function t(t,r){switch(t.eventType){case p:n=!1;break;case g:if(t.touches.length<2)return;var i=Math.abs(1-t.scale),a=Math.abs(t.rotation);if(i<r.options.transform_min_scale&&a<r.options.transform_min_rotation)return;y.current.name=e,n||(r.trigger(e+"start",t),n=!0),r.trigger(e,t),a>r.options.transform_min_rotation&&r.trigger("rotate",t),i>r.options.transform_min_scale&&(r.trigger("pinch",t),r.trigger("pinch"+(t.scale<1?"in":"out"),t));break;case v:n&&t.changedLength<2&&(r.trigger(e+"end",t),n=!1)}}var n=!1;i.gestures.Transform={name:e,index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1},handler:t}}("transform"),e.Hammer=i,"undefined"!=typeof module&&module.exports&&(module.exports=i),"function"==typeof define&&define.amd?define(["jquery"],function(t){return r(e.Hammer,t)}):r(e.Hammer,jQuery||e.Zepto)}(window);