define(["require","jquery","underscore","mustache"],function(e,r,n){var a=function(){r("body").on("blur",".js-validator-form-field",function(){var e=r(this);t(e)})},i=function(e,r){n.each(r,function(r){l(e.find('[data-field="'+r.field+'"]'),r)})},o=function(e){var n,a=!0;return console.info("form",e),e.find("[required]").each(function(e,i){var o=r(i);console.log(o),o.val().length||(a=!1,n="Поле пустое",l(o,{name:n}))}),{isValid:a}},l=function(e,r){e.parent().addClass("error").parent().append('<label class="error">'+r.name+"</label>")},t=function(e){e.parent().removeClass("error").parent().find("label.error").remove()};return{init:a,validate:i,validateRequired:o,showFieldError:l,resetFieldError:t}});