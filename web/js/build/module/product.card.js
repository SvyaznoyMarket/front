define(["require","jquery","underscore","mustache","module/util","jquery.photoswipe","module/product.card.tab","module/product.card.fullimg","module/product.card.kit","jquery.slick"],function(t,e,r,i,s){var o=e("body"),a=[];e(".js-productSlider").each(function(t,r){var i=e(r).data("url");i&&a.push(i)}),a=r.uniq(a),r.each(a,function(t){e.get(t).done(function(t){r.each(t.result.widgets,function(t,i){if(!r.isObject(t)||!i)return void console.warn("slider",i,t);var s=e(i);if(t.count<=0&&s)return void s.remove();console.info("slider",t,s),s.trigger("render",t),o.trigger("render");var a=s.parents(".js-container");a.length&&(a.show(),e(a.data("tabSelector")).animate({width:"show"}))}),e(".js-productSliderList").each(function(){var t=e(this).parents(".js-productSlider").data("ga");e(this).slick({mobileFirst:!0,infinite:!1,slidesToShow:6,slidesToScroll:6,nextArrow:'<span class="sliderControls_btn sliderControls_btn__right js-ga-click"></span>',prevArrow:'<span class="sliderControls_btn sliderControls_btn__left js-ga-click"></span>',responsive:[{breakpoint:800,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:700,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:600,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:500,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:300,settings:{slidesToShow:2,slidesToScroll:2}}]}),e(this).find(".sliderControls_btn").data("gaClick",t)})})}),e(".js-detailSlider").slick({infinite:!1,dots:!0,nextArrow:'<span class="sliderControls_btn sliderControls_btn__right js-ga-click"></span>',prevArrow:'<span class="sliderControls_btn sliderControls_btn__left js-ga-click"></span>',customPaging:function(){return'<span class="slider_pag_i"></span>'},appendDots:".slider_pag"}),$creditPayment=e(".js-creditPayment"),console.info("creditPayment",$creditPayment);var n=$creditPayment.data("value");r.isObject(n)&&t(["module/direct-credit","direct-credit"],function(t){n.product.quantity=1,t.getPayment({partnerId:n.partnerId},o.data("user"),n.product,function(t){var r=e($creditPayment.data("templateSelector")),o=e($creditPayment.data("priceSelector")),a=Math.ceil(t.payment);o.html(i.render(r.html(),{shownPrice:s.formatCurrency(a)})),$creditPayment.show()})}),e(".js-productKit-reset").on("click",function(t){var r=e(t.target),i=r.data("value"),s=e(r.data("spinnerSelector"));s.each(function(t,r){var s=e(r),o=e(s.data("buttonSelector")).data("value"),a=s.data("value"),n=i.product[a.product.id];return n&&o&&o.product&&o.product[n.id]?(o.product[n.id].quantity=n.quantity,void s.val(n.quantity)):!0})}),e(".js-productReviewList-more").on("click",function(t){t.preventDefault();try{var i=e(this),s=e(i.data("containerSelector")),o=s.data("url"),a=s.data("value");o&&!0!==i.data("disabled")&&(e.get(o,a).done(function(t){r.isObject(t.result)&&a&&s.length&&(a.page=t.result.page,a.count=t.result.count,a.limit=t.result.limit,a.page*a.limit>a.count||!t.result.count?i.hide():i.show(),s.append(t.result.reviewBlock))}).always(function(){i.data("disabled",!1)}),i.data("disabled",!0))}catch(n){console.error(n)}})});