define(["require","jquery","underscore","mustache","module/util","jquery.photoswipe","module/product.card.tab","module/product.card.fullimg","module/product.card.kit","jquery.slick"],function(t,e,r,i,a){var s=e("body"),o=[];e(".js-productSlider").each(function(t,r){var i=e(r).data("url");i&&o.push(i)}),o=r.uniq(o),r.each(o,function(t){e.get(t).done(function(t){r.each(t.result.widgets,function(t,i){if(!r.isObject(t)||!i)return void console.warn("slider",i,t);var a=e(i);if(t.count<=0&&a)return void a.remove();console.info("slider",t,a),a.trigger("render",t),s.trigger("render");var o=a.parents(".js-container");o.length&&(o.show(),e(o.data("tabSelector")).animate({width:"show"}))}),e(".js-productSliderList").each(function(){var t=e(this).parents(".js-productSlider").data("ga");e(this).slick({mobileFirst:!0,infinite:!1,slidesToShow:6,slidesToScroll:6,nextArrow:'<span class="sliderControls_btn sliderControls_btn__right js-ga-click"></span>',prevArrow:'<span class="sliderControls_btn sliderControls_btn__left js-ga-click"></span>',responsive:[{breakpoint:800,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:700,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:600,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:500,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:300,settings:{slidesToShow:2,slidesToScroll:2}}],adaptiveHeight:!0}),e(this).find(".sliderControls_btn").data("gaClick",t)})})}),e(".detail-slider").slick({infinite:!1,dots:!0,nextArrow:'<span class="sliderControls_btn sliderControls_btn__right js-ga-click"></span>',prevArrow:'<span class="sliderControls_btn sliderControls_btn__left js-ga-click"></span>',customPaging:function(){return'<span class="slider_pag_i"></span>'},appendDots:".slider_pag"}),$creditPayment=e(".js-creditPayment"),console.info("creditPayment",$creditPayment);var n=$creditPayment.data("value");r.isObject(n)&&t(["module/direct-credit","direct-credit"],function(t){n.product.quantity=1,t.getPayment({partnerId:n.partnerId},s.data("user"),n.product,function(t){var r=e($creditPayment.data("templateSelector")),s=e($creditPayment.data("priceSelector")),o=Math.ceil(t.payment);s.html(i.render(r.html(),{shownPrice:a.formatCurrency(o)})),$creditPayment.show()})}),e(".js-productKit-reset").on("click",function(t){var r=e(t.target),i=r.data("value"),a=e(r.data("spinnerSelector"));a.each(function(t,r){var a=e(r),s=e(a.data("buttonSelector")).data("value"),o=a.data("value"),n=i.product[o.product.id];return n&&s&&s.product&&s.product[n.id]?(s.product[n.id].quantity=n.quantity,void a.val(n.quantity)):!0})}),e(".js-productReviewList-more").on("click",function(t){t.preventDefault();try{var i=e(this),a=e(i.data("containerSelector")),s=a.data("url"),o=a.data("value");s&&!0!==i.data("disabled")&&(e.get(s,o).done(function(t){r.isObject(t.result)&&o&&a.length&&(o.page=t.result.page,o.count=t.result.count,o.limit=t.result.limit,o.page*o.limit>o.count||!t.result.count?i.hide():i.show(),a.append(t.result.reviewBlock))}).always(function(){i.data("disabled",!1)}),i.data("disabled",!0))}catch(n){console.error(n)}})});