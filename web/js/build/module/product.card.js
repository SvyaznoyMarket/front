define(["require","jquery","underscore","mustache","module/util","jquery.enterslide","jquery.photoswipe","module/product.card.tab","module/product.card.fullimg","module/product.card.kit"],function(t,e,r,a,d){var n=e("body"),i=[];e(".js-productSlider").each(function(t,r){var a=e(r).data("url");a&&i.push(a)}),i=r.uniq(i),r.each(i,function(t){e.get(t).done(function(t){r.each(t.result.widgets,function(t,a){if(!r.isObject(t)||!a)return void console.warn("slider",a,t);var d=e(a);if(t.count<=0&&d)return void d.remove();console.info("slider",t,d),d.trigger("render",t),n.trigger("render");var i=d.parents(".js-container");i.length&&(i.show(),e(i.data("tabSelector")).animate({width:"show"}))}),e(".js-productSliderList").enterslide()})}),$creditPayment=e(".js-creditPayment"),console.info("creditPayment",$creditPayment);var c=$creditPayment.data("value");r.isObject(c)&&t(["module/direct-credit","direct-credit"],function(t){c.product.quantity=1,t.getPayment({partnerId:c.partnerId},n.data("user"),c.product,function(t){var r=e($creditPayment.data("templateSelector")),n=e($creditPayment.data("priceSelector")),i=Math.ceil(t.payment);n.html(a.render(r.html(),{shownPrice:d.formatCurrency(i)})),$creditPayment.show()})}),e(".js-productKit-reset").on("click",function(t){var r=e(t.target),a=r.data("value"),d=e(r.data("spinnerSelector"));d.each(function(t,r){var d=e(r),n=e(d.data("buttonSelector")).data("value"),i=d.data("value"),c=a.product[i.product.id];return c&&n&&n.product&&n.product[c.id]?(n.product[c.id].quantity=c.quantity,void d.val(c.quantity)):!0})})});