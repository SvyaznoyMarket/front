define(["require","jquery","underscore","mustache","module/util","module/form-validator","jquery.maskedinput","module/toggleLink"],function(e,o,r,x,n,i){function l(e,o){console.log("success form"),console.log(o),i.validate(e,o.errors),null!=o.redirect&&o.redirect.length&&(window.location.href=o.redirect)}function s(){console.log("error form")}o.mask.definitions.x="[0-9]",o(".js-field-phone").mask("+7(xxx)xxx-xx-xx",{placeholder:"+7(xxx)xxx-xx-xx"}),o(".js-field-mnogoru").mask("xxxx xxxx",{placeholder:"xxxx xxxx"});o(".js-user-field"),o(".js-global-error");o(".js-user-form").on("submit",function(e){e.preventDefault();var r=o(".js-user-form"),x=r.attr("action");o.ajax({type:"POST",url:x,data:r.serialize(),error:function(e){s(r,e)},success:function(e){l(r,e)}})}),i.init()});