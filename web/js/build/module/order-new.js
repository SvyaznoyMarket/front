define(["require","jquery","underscore","mustache","module/util","module/form-validator","jquery.maskedinput"],function(e,r,o,x,n,i){function s(e,r){console.log("success form"),console.log(r),i.validate(e,r.errors),null!=r.redirect&&r.redirect.length&&(window.location.href=r.redirect)}function l(){console.log("error form")}r.mask.definitions.x="[0-9]",r(".js-field-phone").mask("+7(xxx)xxx-xx-xx",{placeholder:"+7(xxx)xxx-xx-xx"}),r(".js-field-mnogoru").mask("xxxx xxxx",{placeholder:"xxxx xxxx"});r(".js-user-field"),r(".js-global-error");r(".js-user-form").on("submit",function(e){e.preventDefault();var o=r(".js-user-form"),x=o.attr("action");r.ajax({type:"POST",url:x,data:o.serialize(),error:function(e){l(o,e)},success:function(e){s(o,e)}})}),i.init()});