define(["require","jquery","underscore","mustache","module/util","module/cart.common"],function(t,e,r,n,a,i){var c=e("body"),o=function(){var c=e(".js-creditPayment"),o=c.data("value");console.info("creditPayment",c,o),r.isObject(o)&&t(["module/direct-credit","direct-credit"],function(t){o.product.quantity=1,t.getPayment(o.partnerId,o.sessionId,o.product,function(t){var r=e(c.data("templateSelector")),o=e(c.data("priceSelector")),d=Math.ceil(t.payment);o.html(n.render(r.html(),{shownPrice:a.formatCurrency(d)})),c.show(),i.initCredit()})})};c.on("render",".js-cart-total",o),o(),c.on("focus","input, textarea",function(){c.find(".cartBar").slideUp("100")}),c.on("blur","input, textarea",function(){c.find(".cartBar").slideDown("100")})});