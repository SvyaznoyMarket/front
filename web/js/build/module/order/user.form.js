define(["require","jquery","underscore","mustache","module/util","module/form-validator","jquery.maskedinput"],function(e,r,o,s,l,x){function n(e){return console.log("success form"),console.log(e),e.errors.length&&d.each(function(o){for(c=0;c<e.errors.length;c++)o=e.errors[c].field,t=e.errors[c].name,r(this).data("field-name")!=o||r(this).hasClass(u)||(a='<div class="error-text js-field-error">'+t+"</div>",r(this).addClass(u).closest(".js-user-wrap").prepend(a))}),null!=e.redirect&&e.redirect.length&&(window.location.href=e.redirect),!1}function i(e,r,o){console.log("error form"),console.log(e),console.log(r),console.log(o)}r.mask.definitions.x="[0-9]",r(".js-field-phone").mask("+7(xxx)xxx-xx-xx",{placeholder:"+7(xxx)xxx-xx-xx"}),r(".js-field-mnogoru").mask("xxxx xxxx",{placeholder:"xxxx xxxx"});var t,a,c,d=r(".js-user-field"),u=(r(".js-global-error"),"textfield-err");r(".js-user-form").on("submit",function(e){e.preventDefault();var o=r(".js-user-form"),s=o.attr("action");r.ajax({type:"POST",url:s,data:o.serialize(),error:i,success:n})}),x.init()});