define(["jquery","module/analytics.google","jquery.ui"],function(e,t){var n=e("#js-regionSet-input");n.autocomplete({autoFocus:!0,appendTo:"#js-region-autocomplete",source:function(t,a){e.ajax({url:n.data("url"),dataType:"json",data:{q:t.term},success:function(t){a(e.map(t.result,function(e){return{label:e.name,value:e.name,url:e.url,dataGa:{m_city_selected:["send","event","m_city_selected",e.name]}}}))}})},minLength:3,select:function(a,o){console.info("select:js-regionSet-input",a,o);var c=e(n.data("formSelector"));c.attr("action",o.item.url),t.handle(o.item.dataGa,e(a.target),a),c.data("gaSubmit",{m_city_changed:["send","event","m_city_changed",o.item.label]})},open:function(){e(".ui-autocomplete").css({left:0,top:"5px",width:"100%"})},close:function(){},messages:{noResults:"",results:function(){return""}}});var a=function(){var t=(e("body"),e(".jsCitySelectBox")),n=e(".jsSelectCity"),a=function(){var n=e(".header").height()+20;t.enterPopup({popupCSS:{top:n,marginTop:0}})};n.on("click",a)};a(),e(".js-regionSet-clear").on("click",function(t){var n=e(e(t.target).data("inputSelector"));n.val(""),t.preventDefault()})});