define(["require","jquery","underscore","module/util"],function(t,i,a,c){var n=i("body"),u=function(t,i){a.isObject(t)||(t=JSON.parse(t)),a.isObject(t)&&(console.info("dataGa",t),a.each(t,function(t){a.each(t,function(a,c){if("{product.sum}"==a){var n=i.data("value");if(n&&n.product){var u=r(n.product,t[4]);t[c]=n.product[u].price*n.product[u].quantity}}}),c.trackGoogleAnalyticsEvent(t)}))},r=function(t,a){var c;return i.each(t,function(t,i){return i.article==a?(c=i.id,!1):void 0}),c};return n.on("click",".js-ga-click",function(t){var a=i(this),c=a.data("gaClick");u(c,a,t)}),n.on("submit",".js-ga-submit",function(t){var a=i(this),c=a.data("gaSubmit");u(c,a,t)}),{handle:u}});