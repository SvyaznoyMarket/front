define(["require","jquery","underscore","module/util"],function(t,i,n,a){var c=i("body"),u=function(t,i,c){n.isObject(t)&&(console.info("dataGa",t),n.each(t,function(t){n.each(t,function(n,a){if("{product.sum}"==n){var c=i.data("value");if(c&&c.product){var u=r(c.product,t[4]);t[a]=c.product[u].price*c.product[u].quantity}}}),a.trackGoogleAnalyticsEvent(t)}))},r=function(t,n){var a;return i.each(t,function(t,i){if(i.article==n)return a=i.id,!1}),a};return c.on("click",".js-ga-click",function(t){var n=i(this),a=n.data("gaClick");u(a,n,t)}),c.on("submit",".js-ga-submit",function(t){var n=i(this),a=n.data("gaSubmit");u(a,n,t)}),{handle:u}});