define(["require","jquery","underscore","mustache","module/util","jquery.maskedinput","module/order/user.form","module/order/common","module/order/toggle","jquery.modal"],function(e,o,r,t){var n=o("body"),a=o(".js-order-delivery-form"),d=function(e){e.stopPropagation();var r=o(this);o.ajax({url:a.attr("action"),data:r.data("value"),type:"post",timeout:3e4}).done(function(e){o(a.data("containerSelector")).html(e)}).always(function(){console.info("unblock screen")}),e.preventDefault()},l=function(e){e.stopPropagation(),o(this).modal();var r=o(this),n=o(".js-modal-content"),a=o("#tpl-order-delivery-point-popup"),d=o.parseJSON(o(r.data("dataSelector")).html());n.append(t.render(a.html(),d)),e.preventDefault()},i=function(e){e.stopPropagation(),o(this).modal();var r=(o(this),o(".js-modal-content")),n=o("#tpl-order-delivery-calendar");r.append(t.render(n.html()))};n.on("click",".js-order-delivery-form-control",d),n.on("click",".js-order-delivery-pointPopup-link",l),n.on("click",".js-order-delivery-celendar-link",i)});